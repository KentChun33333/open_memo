import{j as s}from"./index-DL95azgn.js";import{i as p,M as m,C as j}from"./style-Y7SVFXQQ.js";const t={bgOpt:"#e8f5e9",borderOpt:"#4caf50",bgRag:"#e3f2fd",borderRag:"#2196f3",nodeBg:"#ffffff",text:"#1e293b",edge:"#64748b"},a={padding:"0px",borderRadius:"12px",fontSize:"12px",fontFamily:"Inter, system-ui, sans-serif",background:t.nodeBg,color:t.text,border:"2px solid #cbd5e1",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.1)",width:"180px",textAlign:"center",overflow:"hidden"},i=l=>({backgroundColor:l,color:"white",padding:"6px 10px",fontWeight:"bold",fontSize:"13px",borderBottom:"1px solid rgba(0,0,0,0.1)"}),r={padding:"12px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"6px"},h=(l,e,c,o)=>({width:c,height:o,backgroundColor:l,border:`2px solid ${e}`,borderRadius:"16px",zIndex:-1}),d=({title:l,bg:e,color:c})=>s.jsx("div",{style:{position:"absolute",top:0,left:16,transform:"translateY(-50%)"},children:s.jsx("div",{style:{fontSize:"14px",fontWeight:"bold",color:"white",backgroundColor:e,padding:"4px 16px",borderRadius:"20px",border:`2px solid ${c}`,boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:l})}),g=[{id:"g_init",position:{x:20,y:120},data:{label:s.jsx(d,{title:"D-RAG Formalization",bg:t.borderOpt,color:"#388e3c"})},style:h(t.bgOpt,t.borderOpt,420,320),type:"default",draggable:!1,selectable:!1},{id:"g_evo",position:{x:460,y:120},data:{label:s.jsx(d,{title:"Autonomous DDL Evolution",bg:t.borderEvo||"#f59e0b",color:"#d97706"})},style:h("#fffbeb","#fcd34d",440,320),type:"default",draggable:!1,selectable:!1},{id:"g_select",position:{x:20,y:480},data:{label:s.jsx(d,{title:"Hybrid Subspace Retrieval",bg:t.borderRag,color:"#1565c0"})},style:h(t.bgRag,t.borderRag,880,260),type:"default",draggable:!1,selectable:!1},{id:"task",position:{x:130,y:20},data:{label:s.jsxs("div",{style:{...a,width:"200px"},children:[s.jsx("div",{style:i("#ef4444"),children:"User Query"}),s.jsx("div",{style:{...r,fontWeight:"500"},children:`"Find Kent's AI notes"`})]})},style:{...a,border:"none",background:"none",boxShadow:"none"}},{id:"opt_log",position:{x:50,y:160},data:{label:s.jsxs("div",{style:{...a},children:[s.jsx("div",{style:i("#4caf50"),children:"Query Formulation"}),s.jsxs("div",{style:r,children:["Assemble raw string ",s.jsx("b",{children:"q"})]})]})},style:{...a,border:"none",background:"none",boxShadow:"none"}},{id:"sym_ext",position:{x:240,y:160},data:{label:s.jsxs("div",{style:{...a},children:[s.jsx("div",{style:i("#4caf50"),children:"Symbolic Extractor"}),s.jsxs("div",{style:r,children:[s.jsx("div",{style:{fontSize:"24px"},children:"ðŸ§ "}),s.jsx("div",{style:{fontFamily:"monospace",fontSize:"10px",background:"#f1f5f9",padding:"4px",borderRadius:"4px"},children:"{owner: 'kent', topic: 'AI'}"})]})]})},style:{...a,border:"none",background:"none",boxShadow:"none"}},{id:"rag_gate",position:{x:240,y:300},data:{label:s.jsxs("div",{style:{...a},children:[s.jsx("div",{style:i("#ef4444"),children:"Deterministic Gate"}),s.jsxs("div",{style:r,children:[s.jsx("div",{style:{fontSize:"20px"},children:"ðŸ›‘"}),s.jsxs("div",{style:{fontSize:"10px"},children:["Indicator Function ",s.jsx("b",{children:"I(q)"})]})]})]})},style:{...a,border:"none",background:"none",boxShadow:"none"}},{id:"agent",position:{x:50,y:300},data:{label:s.jsxs("div",{style:{...a},children:[s.jsx("div",{style:i("#6366f1"),children:"Target LLM"}),s.jsxs("div",{style:r,children:[s.jsx("div",{style:{fontSize:"24px"},children:"ðŸ¤–"}),s.jsx("div",{style:{fontSize:"11px",fontWeight:"bold"},children:"Agentic Controller"})]})]})},style:{...a,border:"none",background:"none",boxShadow:"none"}},{id:"ddl_mab",position:{x:480,y:160},data:{label:s.jsxs("div",{style:{...a},children:[s.jsx("div",{style:i("#f59e0b"),children:"Information Gain"}),s.jsxs("div",{style:r,children:[s.jsx("div",{style:{fontSize:"24px"},children:"ðŸ“Š"}),s.jsx("div",{style:{fontSize:"11px"},children:"Track Entropy ROI"})]})]})},style:{...a,border:"none",background:"none",boxShadow:"none"}},{id:"ddl_brains",position:{x:690,y:160},data:{label:s.jsxs("div",{style:{...a,border:"2px dashed #94a3b8"},children:[s.jsx("div",{style:i("#94a3b8"),children:"LLM Dimension Pool"}),s.jsx("div",{style:r,children:s.jsx("div",{style:{fontSize:"24px"},children:"ðŸ’­"})})]})},style:{...a,border:"none",background:"none",boxShadow:"none"}},{id:"evo_table",position:{x:480,y:280},data:{label:s.jsxs("div",{style:{...a,width:"390px"},children:[s.jsx("div",{style:i("#fca5a5"),children:"Schema Evolution"}),s.jsx("div",{style:{padding:"8px",fontSize:"11px"},children:s.jsx("table",{style:{width:"100%",borderCollapse:"collapse",textAlign:"center"},children:s.jsxs("tbody",{children:[s.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0",background:"#f8fafc"},children:[s.jsx("td",{style:{padding:"6px",fontWeight:"bold",textAlign:"left"},children:"Dimensions:"}),s.jsx("td",{style:{padding:"6px",color:"#64748b"},children:"Project"}),s.jsx("td",{style:{padding:"6px",color:"#64748b"},children:"Owner"}),s.jsx("td",{style:{padding:"6px",background:"#dcfce7",border:"1px solid #86efac",borderRadius:"4px",color:"#166534",fontWeight:"bold"},children:"Topic"})]}),s.jsxs("tr",{children:[s.jsx("td",{style:{padding:"6px",fontWeight:"bold",textAlign:"left"},children:"Entropy ROI:"}),s.jsx("td",{style:{padding:"6px"},children:"[0.2]"}),s.jsx("td",{style:{padding:"6px"},children:"[0.1]"}),s.jsx("td",{style:{padding:"6px",color:"#166534",fontWeight:"bold"},children:"[0.85]"})]})]})})})]})},style:{...a,border:"none",background:"none",boxShadow:"none"}},{id:"db_table",position:{x:500,y:530},data:{label:s.jsxs("div",{style:{...a,width:"360px"},children:[s.jsx("div",{style:i("#3b82f6"),children:"ðŸ—„ï¸ LanceDB Vector Store"}),s.jsx("div",{style:{padding:"8px",fontSize:"11px"},children:s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:"2px solid #cbd5e1",background:"#f1f5f9"},children:[s.jsx("th",{style:{padding:"6px"},children:"Vector"}),s.jsx("th",{style:{padding:"6px"},children:"Text"}),s.jsx("th",{style:{padding:"6px",color:"#1d4ed8"},children:"Owner"}),s.jsx("th",{style:{padding:"6px",color:"#1d4ed8"},children:"Topic"})]})}),s.jsxs("tbody",{style:{textAlign:"center"},children:[s.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0"},children:[s.jsx("td",{style:{padding:"6px"},children:"[0.1, ..]"}),s.jsx("td",{style:{padding:"6px"},children:'"Notes"'}),s.jsx("td",{style:{padding:"6px",color:"#1d4ed8"},children:"Kent"}),s.jsx("td",{style:{padding:"6px",color:"#1d4ed8",fontWeight:"bold"},children:"AI"})]}),s.jsxs("tr",{children:[s.jsx("td",{style:{padding:"6px"},children:"[0.9, ..]"}),s.jsx("td",{style:{padding:"6px"},children:'"Call"'}),s.jsx("td",{style:{padding:"6px",color:"#64748b"},children:"Admin"}),s.jsx("td",{style:{padding:"6px",color:"#64748b"},children:"Sales"})]})]})]})})]})},style:{...a,border:"none",background:"none",boxShadow:"none"}},{id:"eval_responses",position:{x:50,y:510},data:{label:s.jsxs("div",{style:{textAlign:"left",fontSize:"11px",display:"flex",flexDirection:"column",gap:"20px"},children:[s.jsxs("div",{style:{...a,width:"320px"},children:[s.jsxs("div",{style:{...i("#cbd5e1"),color:"#475569",display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{children:"Distractor Context v_d"}),s.jsx("span",{style:{background:"white",padding:"2px 6px",borderRadius:"12px"},children:"Rank 12"})]}),s.jsx("div",{style:{padding:"12px",color:"#64748b"},children:'"Call with admin about sales..."'})]}),s.jsxs("div",{style:{...a,width:"320px",border:"2px solid #22c55e"},children:[s.jsxs("div",{style:{...i("#22c55e"),display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{children:"Primary Context v_d"}),s.jsx("span",{style:{background:"#dcfce7",color:"#15803d",padding:"2px 6px",borderRadius:"12px"},children:"Rank 1"})]}),s.jsx("div",{style:{padding:"12px",fontWeight:"bold"},children:`"Kent's AI notes from Friday..."`})]})]})},style:{...a,background:"transparent",border:"none",boxShadow:"none",width:"320px"}}],n={type:"default",markerEnd:{type:m.ArrowClosed,color:t.edge},style:{strokeWidth:2,stroke:t.edge}},N=[{id:"e-task-ext",source:"task",target:"sym_ext",...n,label:"Incoming Context",labelBgPadding:[6,4],labelBgStyle:{fill:"#fff",color:"#333"}},{id:"e-task-opt",source:"task",target:"opt_log",...n},{id:"e-opt-sym",source:"opt_log",target:"sym_ext",...n},{id:"e-sym-gate",source:"sym_ext",target:"rag_gate",...n},{id:"e-gate-db",source:"rag_gate",target:"db_table",...n,style:{strokeWidth:2,stroke:"#3b82f6"},markerEnd:{type:m.ArrowClosed,color:"#3b82f6"},label:`Subspace M
(WHERE topic=AI)`,labelBgPadding:[6,4],labelBgStyle:{fill:"#eff6ff",opacity:.9,stroke:"#bfdbfe"},labelStyle:{fill:"#1d4ed8",fontWeight:"bold",fontSize:11}},{id:"e-opt-agt",source:"opt_log",target:"agent",...n},{id:"e-gate-agt",source:"rag_gate",target:"agent",...n},{id:"e-sym-mab",source:"sym_ext",target:"ddl_mab",...n},{id:"e-mab-evo",source:"ddl_mab",target:"evo_table",...n},{id:"e-brains-mab",source:"ddl_brains",target:"ddl_mab",...n,label:"Candidate Dims",labelBgPadding:[4,4],labelBgStyle:{fill:"#fff"},labelStyle:{fontSize:11}},{id:"e-evo-brains",source:"evo_table",target:"ddl_brains",...n},{id:"e-evo-db",source:"evo_table",target:"db_table",...n,style:{strokeWidth:2,stroke:"#eab308",strokeDasharray:"5,5"},markerEnd:{type:m.ArrowClosed,color:"#eab308"},label:"Update DB Schema",labelBgPadding:[6,4],labelBgStyle:{fill:"#fefce8",opacity:.9,stroke:"#fef08a"},labelStyle:{fill:"#a16207",fontWeight:"bold",fontSize:11}},{id:"e-db-eval",source:"db_table",target:"eval_responses",...n,label:"Hybrid Scoring",labelBgPadding:[6,4],labelBgStyle:{fill:"#fff"},labelStyle:{fontSize:11,fontWeight:"bold",fill:"#475569"}},{id:"e-eval-agt",source:"eval_responses",target:"agent",...n,style:{strokeWidth:2,stroke:"#22c55e"},markerEnd:{type:m.ArrowClosed,color:"#22c55e"},label:"Inject R(q,d)",labelBgPadding:[6,4],labelBgStyle:{fill:"#dcfce7",stroke:"#86efac"},labelStyle:{fill:"#15803d",fontWeight:"bold",fontSize:11}}];function y(){return s.jsxs("div",{style:{width:"100%",height:"800px",border:"1px solid #e2e8f0",borderRadius:"12px",margin:"40px 0",background:"#fafafa",position:"relative",overflow:"hidden",fontFamily:"system-ui, sans-serif"},children:[s.jsxs("div",{style:{position:"absolute",top:"16px",right:"16px",zIndex:10,background:"white",padding:"8px 16px",borderRadius:"24px",border:"2px solid #cbd5e1",boxShadow:"0 4px 6px rgba(0,0,0,0.05)",display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx("div",{style:{width:"24px",height:"24px",background:"#10b981",borderRadius:"4px"}}),s.jsx("span",{style:{fontWeight:"bold",fontSize:"16px",color:"#334155"},children:"Nanobot Architecture"})]}),s.jsx(p,{nodes:g,edges:N,fitView:!0,fitViewOptions:{padding:.1},minZoom:.1,attributionPosition:"bottom-right",children:s.jsx(j,{})})]})}const v={title:"D-RAG vs LightRAG: The Case for Deterministic Subspace Retrieval and Autonomous DDL Optimization",date:"2026-02-26",author:"Kent Chiu",description:"Why high-velocity data science teams need Symbolic Schema Enforcement (D-RAG) over Semantic Graph Generation (LightRAG) to prevent agent memory contamination, backed by equations and Python reference code.",tags:["AI","Nanobot","LanceDB","RAG","LightRAG","D-RAG"]};function x(l){const e={annotation:"annotation",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",math:"math",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",msub:"msub",msubsup:"msubsup",msup:"msup",mtext:"mtext",munder:"munder",p:"p",path:"path",pre:"pre",semantics:"semantics",span:"span",strong:"strong",svg:"svg",ul:"ul",...l.components};return s.jsxs(s.Fragment,{children:[s.jsx(e.h1,{children:"Transcending Standard RAG: The Problem with Latent Space"}),`
`,s.jsxs(e.p,{children:["Standard RAG systems operate on a fundamental flaw for enterprise use cases: they search the entire vector space (the manifold ",s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsx(e.mrow,{children:s.jsx(e.mi,{children:"M"})}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"M"})]})})}),s.jsx(e.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.6833em"}}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"},children:"M"})]})})]}),') for every query. This introduces significant "Noise" and increases the likelihood of an AI agent retrieving "distractor" chunks that share semantic similarity but belong to an entirely isolated logical context (e.g., retrieving a bug report for Project Alpha when the user asked about Project Beta).']}),`
`,s.jsxs(e.p,{children:["While modern systems like ",s.jsx(e.strong,{children:"LightRAG"})," attempt to solve this by building a Semantic Graph (generating community summaries and tracking relationships), they remain probabilistic and computationally expensive."]}),`
`,s.jsxs(e.p,{children:["Enter ",s.jsx(e.strong,{children:"D-RAG (Deterministic RAG)"})," augmented with an ",s.jsx(e.strong,{children:"Autonomous DDL Optimizer"}),". D-RAG abandons the idea of building complex semantic webs. Instead, it builds a strictly organized ",s.jsx(e.strong,{children:"Symbolic Schema"}),", utilizing Entropy-Based Dimensionality to dynamically evolve a database schema, mathematically isolating data ",s.jsx(e.em,{children:"before"})," any vector similarity is calculated."]}),`
`,s.jsx(e.hr,{}),`
`,s.jsx(e.h2,{children:"The Mathematical Foundation: Deterministic Subspace Retrieval"}),`
`,s.jsxs(e.p,{children:["In D-RAG, we define a Logical Partitioning Function (Phi) that maps a query to a specific, isolated subspace. We express the D-RAG retrieval score ",s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"R"}),s.jsx(e.mo,{stretchy:"false",children:"("}),s.jsx(e.mi,{children:"q"}),s.jsx(e.mo,{separator:"true",children:","}),s.jsx(e.mi,{children:"d"}),s.jsx(e.mo,{stretchy:"false",children:")"})]}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"R(q, d)"})]})})}),s.jsx(e.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.00773em"},children:"R"}),s.jsx(e.span,{className:"mopen",children:"("}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"q"}),s.jsx(e.span,{className:"mpunct",children:","}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsx(e.span,{className:"mord mathnormal",children:"d"}),s.jsx(e.span,{className:"mclose",children:")"})]})})]})," for a query ",s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsx(e.mrow,{children:s.jsx(e.mi,{children:"q"})}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"q"})]})})}),s.jsx(e.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.625em",verticalAlign:"-0.1944em"}}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"q"})]})})]})," and a candidate memory block ",s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsx(e.mrow,{children:s.jsx(e.mi,{children:"d"})}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"d"})]})})}),s.jsx(e.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.6944em"}}),s.jsx(e.span,{className:"mord mathnormal",children:"d"})]})})]})," as:"]}),`
`,s.jsx(e.p,{children:s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"R"}),s.jsx(e.mo,{stretchy:"false",children:"("}),s.jsx(e.mi,{children:"q"}),s.jsx(e.mo,{separator:"true",children:","}),s.jsx(e.mi,{children:"d"}),s.jsx(e.mo,{stretchy:"false",children:")"}),s.jsx(e.mo,{children:"="}),s.jsxs(e.munder,{children:[s.jsxs(e.munder,{children:[s.jsxs(e.mrow,{children:[s.jsx(e.mn,{mathvariant:"double-struck",children:"1"}),s.jsxs(e.mrow,{children:[s.jsx(e.mo,{fence:"true",children:"["}),s.jsxs(e.msubsup,{children:[s.jsx(e.mo,{children:"â‹‚"}),s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"i"}),s.jsx(e.mo,{children:"="}),s.jsx(e.mn,{children:"1"})]}),s.jsx(e.mi,{children:"n"})]}),s.jsxs(e.msub,{children:[s.jsx(e.mtext,{children:"filter"}),s.jsx(e.mi,{children:"i"})]}),s.jsx(e.mo,{stretchy:"false",children:"("}),s.jsx(e.mi,{children:"q"}),s.jsx(e.mo,{stretchy:"false",children:")"}),s.jsx(e.mo,{children:"âˆˆ"}),s.jsx(e.mtext,{children:"schema"}),s.jsx(e.mo,{stretchy:"false",children:"("}),s.jsx(e.mi,{children:"d"}),s.jsx(e.mo,{stretchy:"false",children:")"}),s.jsx(e.mo,{fence:"true",children:"]"})]})]}),s.jsx(e.mo,{stretchy:"true",children:"âŸ"})]}),s.jsx(e.mtext,{children:"DeterministicÂ Gate"})]}),s.jsx(e.mo,{children:"Ã—"}),s.jsxs(e.munder,{children:[s.jsxs(e.munder,{children:[s.jsxs(e.mrow,{children:[s.jsx(e.mo,{fence:"true",children:"("}),s.jsx(e.mi,{children:"Î±"}),s.jsx(e.mo,{children:"â‹…"}),s.jsx(e.mtext,{children:"sim"}),s.jsx(e.mo,{stretchy:"false",children:"("}),s.jsxs(e.msub,{children:[s.jsx(e.mi,{children:"v"}),s.jsx(e.mi,{children:"q"})]}),s.jsx(e.mo,{separator:"true",children:","}),s.jsxs(e.msub,{children:[s.jsx(e.mi,{children:"v"}),s.jsx(e.mi,{children:"d"})]}),s.jsx(e.mo,{stretchy:"false",children:")"}),s.jsx(e.mo,{children:"+"}),s.jsx(e.mi,{children:"Î²"}),s.jsx(e.mo,{children:"â‹…"}),s.jsx(e.mtext,{children:"BM25"}),s.jsx(e.mo,{stretchy:"false",children:"("}),s.jsx(e.mi,{children:"q"}),s.jsx(e.mo,{separator:"true",children:","}),s.jsx(e.mi,{children:"d"}),s.jsx(e.mo,{stretchy:"false",children:")"}),s.jsx(e.mo,{fence:"true",children:")"})]}),s.jsx(e.mo,{stretchy:"true",children:"âŸ"})]}),s.jsx(e.mtext,{children:"HybridÂ Scoring"})]})]}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"R(q,d)= \\underbrace{\\mathbb{1} \\left[ \\bigcap_{i=1}^n \\text{filter}_i (q) \\in \\text{schema}(d) \\right]}_{\\text{Deterministic Gate}} \\times \\underbrace{\\left( \\alpha \\cdot \\text{sim}(v_q, v_d) + \\beta \\cdot \\text{BM25}(q,d) \\right)}_{\\text{Hybrid Scoring}}"})]})})}),s.jsxs(e.span,{className:"katex-html","aria-hidden":"true",children:[s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.00773em"},children:"R"}),s.jsx(e.span,{className:"mopen",children:"("}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"q"}),s.jsx(e.span,{className:"mpunct",children:","}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsx(e.span,{className:"mord mathnormal",children:"d"}),s.jsx(e.span,{className:"mclose",children:")"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.jsx(e.span,{className:"mrel",children:"="}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"4.354em",verticalAlign:"-2.604em"}}),s.jsx(e.span,{className:"mord munder",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsxs(e.span,{className:"vlist",style:{height:"1.75em"},children:[s.jsxs(e.span,{style:{top:"-1.146em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.75em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mtight",children:s.jsx(e.span,{className:"mord text mtight",children:s.jsx(e.span,{className:"mord mtight",children:"DeterministicÂ Gate"})})})})]}),s.jsxs(e.span,{style:{top:"-3.75em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.75em"}}),s.jsx(e.span,{className:"mord munder",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsxs(e.span,{className:"vlist",style:{height:"1.75em"},children:[s.jsxs(e.span,{className:"svg-align",style:{top:"-1.8243em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.75em"}}),s.jsxs(e.span,{className:"stretchy",style:{height:"0.548em",minWidth:"1.6em"},children:[s.jsx(e.span,{className:"brace-left",style:{height:"0.548em"},children:s.jsx(e.svg,{xmlns:"http://www.w3.org/2000/svg",width:"400em",height:"0.548em",viewBox:"0 0 400000 548",preserveAspectRatio:"xMinYMin slice",children:s.jsx(e.path,{d:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`})})}),s.jsx(e.span,{className:"brace-center",style:{height:"0.548em"},children:s.jsx(e.svg,{xmlns:"http://www.w3.org/2000/svg",width:"400em",height:"0.548em",viewBox:"0 0 400000 548",preserveAspectRatio:"xMidYMin slice",children:s.jsx(e.path,{d:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`})})}),s.jsx(e.span,{className:"brace-right",style:{height:"0.548em"},children:s.jsx(e.svg,{xmlns:"http://www.w3.org/2000/svg",width:"400em",height:"0.548em",viewBox:"0 0 400000 548",preserveAspectRatio:"xMaxYMin slice",children:s.jsx(e.path,{d:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`})})})]})]}),s.jsxs(e.span,{style:{top:"-3.75em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.75em"}}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord",children:"1"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsxs(e.span,{className:"minner",children:[s.jsx(e.span,{className:"mopen delimcenter",style:{top:"0em"},children:s.jsx(e.span,{className:"delimsizing size4",children:"["})}),s.jsx(e.span,{className:"mop op-limits",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsxs(e.span,{className:"vlist",style:{height:"1.6514em"},children:[s.jsxs(e.span,{style:{top:"-1.8723em",marginLeft:"0em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.05em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsxs(e.span,{className:"mord mtight",children:[s.jsx(e.span,{className:"mord mathnormal mtight",children:"i"}),s.jsx(e.span,{className:"mrel mtight",children:"="}),s.jsx(e.span,{className:"mord mtight",children:"1"})]})})]}),s.jsxs(e.span,{style:{top:"-3.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.05em"}}),s.jsx(e.span,{children:s.jsx(e.span,{className:"mop op-symbol large-op",children:"â‹‚"})})]}),s.jsxs(e.span,{style:{top:"-4.3em",marginLeft:"0em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.05em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mathnormal mtight",children:"n"})})]})]}),s.jsx(e.span,{className:"vlist-s",children:"â€‹"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"1.2777em"},children:s.jsx(e.span,{})})})]})}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord text",children:s.jsx(e.span,{className:"mord",children:"filter"})}),s.jsx(e.span,{className:"msupsub",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsx(e.span,{className:"vlist",style:{height:"0.3117em"},children:s.jsxs(e.span,{style:{top:"-2.55em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),s.jsx(e.span,{className:"vlist-s",children:"â€‹"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.15em"},children:s.jsx(e.span,{})})})]})})]}),s.jsx(e.span,{className:"mopen",children:"("}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"q"}),s.jsx(e.span,{className:"mclose",children:")"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.jsx(e.span,{className:"mrel",children:"âˆˆ"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.jsx(e.span,{className:"mord text",children:s.jsx(e.span,{className:"mord",children:"schema"})}),s.jsx(e.span,{className:"mopen",children:"("}),s.jsx(e.span,{className:"mord mathnormal",children:"d"}),s.jsx(e.span,{className:"mclose",children:")"}),s.jsx(e.span,{className:"mclose delimcenter",style:{top:"0em"},children:s.jsx(e.span,{className:"delimsizing size4",children:"]"})})]})]})]})]}),s.jsx(e.span,{className:"vlist-s",children:"â€‹"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"1.9257em"},children:s.jsx(e.span,{})})})]})})]})]}),s.jsx(e.span,{className:"vlist-s",children:"â€‹"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"2.604em"},children:s.jsx(e.span,{})})})]})}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(e.span,{className:"mbin",children:"Ã—"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"2.5063em",verticalAlign:"-1.7563em"}}),s.jsx(e.span,{className:"mord munder",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsxs(e.span,{className:"vlist",style:{height:"0.75em"},children:[s.jsxs(e.span,{style:{top:"-1.3798em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mtight",children:s.jsx(e.span,{className:"mord text mtight",children:s.jsx(e.span,{className:"mord mtight",children:"HybridÂ Scoring"})})})})]}),s.jsxs(e.span,{style:{top:"-3em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3em"}}),s.jsx(e.span,{className:"mord munder",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsxs(e.span,{className:"vlist",style:{height:"0.75em"},children:[s.jsxs(e.span,{className:"svg-align",style:{top:"-2.0659em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3em"}}),s.jsxs(e.span,{className:"stretchy",style:{height:"0.548em",minWidth:"1.6em"},children:[s.jsx(e.span,{className:"brace-left",style:{height:"0.548em"},children:s.jsx(e.svg,{xmlns:"http://www.w3.org/2000/svg",width:"400em",height:"0.548em",viewBox:"0 0 400000 548",preserveAspectRatio:"xMinYMin slice",children:s.jsx(e.path,{d:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`})})}),s.jsx(e.span,{className:"brace-center",style:{height:"0.548em"},children:s.jsx(e.svg,{xmlns:"http://www.w3.org/2000/svg",width:"400em",height:"0.548em",viewBox:"0 0 400000 548",preserveAspectRatio:"xMidYMin slice",children:s.jsx(e.path,{d:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`})})}),s.jsx(e.span,{className:"brace-right",style:{height:"0.548em"},children:s.jsx(e.svg,{xmlns:"http://www.w3.org/2000/svg",width:"400em",height:"0.548em",viewBox:"0 0 400000 548",preserveAspectRatio:"xMaxYMin slice",children:s.jsx(e.path,{d:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`})})})]})]}),s.jsxs(e.span,{style:{top:"-3em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3em"}}),s.jsx(e.span,{className:"mord",children:s.jsxs(e.span,{className:"minner",children:[s.jsx(e.span,{className:"mopen delimcenter",style:{top:"0em"},children:"("}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.0037em"},children:"Î±"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(e.span,{className:"mbin",children:"â‹…"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(e.span,{className:"mord text",children:s.jsx(e.span,{className:"mord",children:"sim"})}),s.jsx(e.span,{className:"mopen",children:"("}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"v"}),s.jsx(e.span,{className:"msupsub",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsx(e.span,{className:"vlist",style:{height:"0.1514em"},children:s.jsxs(e.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.03588em"},children:"q"})})]})}),s.jsx(e.span,{className:"vlist-s",children:"â€‹"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.2861em"},children:s.jsx(e.span,{})})})]})})]}),s.jsx(e.span,{className:"mpunct",children:","}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"v"}),s.jsx(e.span,{className:"msupsub",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsx(e.span,{className:"vlist",style:{height:"0.3361em"},children:s.jsxs(e.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mathnormal mtight",children:"d"})})]})}),s.jsx(e.span,{className:"vlist-s",children:"â€‹"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.15em"},children:s.jsx(e.span,{})})})]})})]}),s.jsx(e.span,{className:"mclose",children:")"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(e.span,{className:"mbin",children:"+"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.05278em"},children:"Î²"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(e.span,{className:"mbin",children:"â‹…"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(e.span,{className:"mord text",children:s.jsx(e.span,{className:"mord",children:"BM25"})}),s.jsx(e.span,{className:"mopen",children:"("}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"q"}),s.jsx(e.span,{className:"mpunct",children:","}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsx(e.span,{className:"mord mathnormal",children:"d"}),s.jsx(e.span,{className:"mclose",children:")"}),s.jsx(e.span,{className:"mclose delimcenter",style:{top:"0em"},children:")"})]})})]})]}),s.jsx(e.span,{className:"vlist-s",children:"â€‹"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.9341em"},children:s.jsx(e.span,{})})})]})})]})]}),s.jsx(e.span,{className:"vlist-s",children:"â€‹"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"1.7563em"},children:s.jsx(e.span,{})})})]})})]})]})]})}),`
`,s.jsx(e.p,{children:"Where:"}),`
`,s.jsxs(e.ul,{children:[`
`,s.jsxs(e.li,{children:[s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsxs(e.mrow,{children:[s.jsx(e.mn,{children:"1"}),s.jsx(e.mo,{stretchy:"false",children:"["}),s.jsx(e.mi,{mathvariant:"normal",children:"."}),s.jsx(e.mi,{mathvariant:"normal",children:"."}),s.jsx(e.mi,{mathvariant:"normal",children:"."}),s.jsx(e.mo,{stretchy:"false",children:"]"})]}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"1[...]"})]})})}),s.jsx(e.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(e.span,{className:"mord",children:"1"}),s.jsx(e.span,{className:"mopen",children:"["}),s.jsx(e.span,{className:"mord",children:"..."}),s.jsx(e.span,{className:"mclose",children:"]"})]})})]})," is the ",s.jsx(e.strong,{children:"Indicator Function"})," (the ",s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"W"}),s.jsx(e.mi,{children:"H"}),s.jsx(e.mi,{children:"E"}),s.jsx(e.mi,{children:"R"}),s.jsx(e.mi,{children:"E"})]}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"WHERE"})]})})}),s.jsx(e.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.6833em"}}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.13889em"},children:"W"}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.08125em"},children:"H"}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"},children:"ERE"})]})})]})," clause). It returns ",s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsx(e.mrow,{children:s.jsx(e.mn,{children:"1"})}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"1"})]})})}),s.jsx(e.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.6444em"}}),s.jsx(e.span,{className:"mord",children:"1"})]})})]})," if all metadata constraints match, and ",s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsx(e.mrow,{children:s.jsx(e.mn,{children:"0"})}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"0"})]})})}),s.jsx(e.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.6444em"}}),s.jsx(e.span,{className:"mord",children:"0"})]})})]})," if they do not. This is a Hard Constraint guaranteeing Mathematical Isolation. If ",s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsx(e.mrow,{children:s.jsx(e.mi,{children:"d"})}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"d"})]})})}),s.jsx(e.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.6944em"}}),s.jsx(e.span,{className:"mord mathnormal",children:"d"})]})})]})," is not in the Subspace, then ",s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"R"}),s.jsx(e.mo,{stretchy:"false",children:"("}),s.jsx(e.mi,{children:"q"}),s.jsx(e.mo,{separator:"true",children:","}),s.jsx(e.mi,{children:"d"}),s.jsx(e.mo,{stretchy:"false",children:")"}),s.jsx(e.mo,{children:"="}),s.jsx(e.mn,{children:"0"})]}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"R(q,d) = 0"})]})})}),s.jsxs(e.span,{className:"katex-html","aria-hidden":"true",children:[s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.00773em"},children:"R"}),s.jsx(e.span,{className:"mopen",children:"("}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"q"}),s.jsx(e.span,{className:"mpunct",children:","}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsx(e.span,{className:"mord mathnormal",children:"d"}),s.jsx(e.span,{className:"mclose",children:")"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.jsx(e.span,{className:"mrel",children:"="}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.6444em"}}),s.jsx(e.span,{className:"mord",children:"0"})]})]})]}),"."]}),`
`,s.jsxs(e.li,{children:[s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"s"}),s.jsx(e.mi,{children:"i"}),s.jsx(e.mi,{children:"m"}),s.jsx(e.mo,{stretchy:"false",children:"("}),s.jsxs(e.msub,{children:[s.jsx(e.mi,{children:"v"}),s.jsx(e.mi,{children:"q"})]}),s.jsx(e.mo,{separator:"true",children:","}),s.jsxs(e.msub,{children:[s.jsx(e.mi,{children:"v"}),s.jsx(e.mi,{children:"d"})]}),s.jsx(e.mo,{stretchy:"false",children:")"})]}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"sim(v_q, v_d)"})]})})}),s.jsx(e.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"1.0361em",verticalAlign:"-0.2861em"}}),s.jsx(e.span,{className:"mord mathnormal",children:"s"}),s.jsx(e.span,{className:"mord mathnormal",children:"im"}),s.jsx(e.span,{className:"mopen",children:"("}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"v"}),s.jsx(e.span,{className:"msupsub",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsx(e.span,{className:"vlist",style:{height:"0.1514em"},children:s.jsxs(e.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.03588em"},children:"q"})})]})}),s.jsx(e.span,{className:"vlist-s",children:"â€‹"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.2861em"},children:s.jsx(e.span,{})})})]})})]}),s.jsx(e.span,{className:"mpunct",children:","}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"v"}),s.jsx(e.span,{className:"msupsub",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsx(e.span,{className:"vlist",style:{height:"0.3361em"},children:s.jsxs(e.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mathnormal mtight",children:"d"})})]})}),s.jsx(e.span,{className:"vlist-s",children:"â€‹"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.15em"},children:s.jsx(e.span,{})})})]})})]}),s.jsx(e.span,{className:"mclose",children:")"})]})})]})," is the Cosine Similarity in the latent vector space."]}),`
`,s.jsxs(e.li,{children:[s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"a"}),s.jsx(e.mi,{children:"l"}),s.jsx(e.mi,{children:"p"}),s.jsx(e.mi,{children:"h"}),s.jsx(e.mi,{children:"a"})]}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"alpha"})]})})}),s.jsx(e.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.8889em",verticalAlign:"-0.1944em"}}),s.jsx(e.span,{className:"mord mathnormal",children:"a"}),s.jsx(e.span,{className:"mord mathnormal",children:"lp"}),s.jsx(e.span,{className:"mord mathnormal",children:"ha"})]})})]}),", ",s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"b"}),s.jsx(e.mi,{children:"e"}),s.jsx(e.mi,{children:"t"}),s.jsx(e.mi,{children:"a"})]}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"beta"})]})})}),s.jsx(e.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.6944em"}}),s.jsx(e.span,{className:"mord mathnormal",children:"b"}),s.jsx(e.span,{className:"mord mathnormal",children:"e"}),s.jsx(e.span,{className:"mord mathnormal",children:"t"}),s.jsx(e.span,{className:"mord mathnormal",children:"a"})]})})]})," are the weights for dense vector similarity vs. lexical term frequency."]}),`
`]}),`
`,s.jsx(e.h3,{children:"Python Reference Implementation (The D-RAG Protocol)"}),`
`,s.jsx(e.p,{children:"This is how we bridge the equation into production Python using a columnar database like LanceDB:"}),`
`,s.jsx(e.pre,{children:s.jsx(e.code,{className:"language-python",children:`import lancedb
import pandas as pd
from typing import Dict, Any

class DRAGProtocol:
    """
    Symbolic implementation of Deterministic RAG.
    Logic: Filter(Hard) -> Search(Soft) -> Rank(Hybrid)
    """
    def __init__(self, table):
        self.table = table
        # The 'System Vocabulary' for the Autonomous DDL
        self.valid_dimensions = ["project", "owner", "ticker"]

    def _extract_symbolic_constraints(self, query: str) -> Dict[str, Any]:
        """
        Symbolic Analysis: Uses an LLM to map Natural Language to DDL Filters.
        Example: "Kent's LEU notes" -> {'owner': 'kent', 'ticker': 'LEU'}
        """
        extracted_filters = {}
        if "leu" in query.lower(): extracted_filters["ticker"] = "LEU"
        if "kent" in query.lower(): extracted_filters["owner"] = "kent"
        return extracted_filters

    def execute_deterministic_search(self, query: str, scope: Dict[str, str], limit: int = 5) -> pd.DataFrame:
        """
        Implements the D-RAG Equation: R(q,d) = Indicator * Hybrid_Score
        """
        constraints = ["is_valid = true"]
        active_filters = {**scope, **self._extract_symbolic_constraints(query)}
        
        for key, value in active_filters.items():
            if key in self.valid_dimensions:
                constraints.append(f"{key} = '{value}'")
        
        where_stmt = " AND ".join(constraints)

        try:
            # LanceDB handles the indicator function via .where()
            return (self.table.search(query, query_type="hybrid")
                             .where(where_stmt)
                             .limit(limit)
                             .to_pandas())
        except Exception as e:
            return pd.DataFrame()
`})}),`
`,s.jsx(e.h2,{children:'The Autonomous DDL Optimizer: "Entropy-Based Dimensionality"'}),`
`,s.jsxs(e.p,{children:["Hard-coding ",s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"v"}),s.jsx(e.mi,{children:"a"}),s.jsx(e.mi,{children:"l"}),s.jsx(e.mi,{children:"i"}),s.jsxs(e.msub,{children:[s.jsx(e.mi,{children:"d"}),s.jsx(e.mi,{children:"d"})]}),s.jsx(e.mi,{children:"i"}),s.jsx(e.mi,{children:"m"}),s.jsx(e.mi,{children:"e"}),s.jsx(e.mi,{children:"n"}),s.jsx(e.mi,{children:"s"}),s.jsx(e.mi,{children:"i"}),s.jsx(e.mi,{children:"o"}),s.jsx(e.mi,{children:"n"}),s.jsx(e.mi,{children:"s"})]}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"valid_dimensions"})]})})}),s.jsx(e.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.8444em",verticalAlign:"-0.15em"}}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"v"}),s.jsx(e.span,{className:"mord mathnormal",children:"a"}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.01968em"},children:"l"}),s.jsx(e.span,{className:"mord mathnormal",children:"i"}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord mathnormal",children:"d"}),s.jsx(e.span,{className:"msupsub",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsx(e.span,{className:"vlist",style:{height:"0.3361em"},children:s.jsxs(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mathnormal mtight",children:"d"})})]})}),s.jsx(e.span,{className:"vlist-s",children:"â€‹"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.15em"},children:s.jsx(e.span,{})})})]})})]}),s.jsx(e.span,{className:"mord mathnormal",children:"im"}),s.jsx(e.span,{className:"mord mathnormal",children:"e"}),s.jsx(e.span,{className:"mord mathnormal",children:"n"}),s.jsx(e.span,{className:"mord mathnormal",children:"s"}),s.jsx(e.span,{className:"mord mathnormal",children:"i"}),s.jsx(e.span,{className:"mord mathnormal",children:"o"}),s.jsx(e.span,{className:"mord mathnormal",children:"n"}),s.jsx(e.span,{className:"mord mathnormal",children:"s"})]})})]})," is brittle. A highly dynamic Data Science team changes focus constantly. To optimize ",s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsx(e.mrow,{children:s.jsx(e.mi,{children:"D"})}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"D"})]})})}),s.jsx(e.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.6833em"}}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"D"})]})})]})," (the set of valid dimensions), we introduce ",s.jsx(e.strong,{children:"Dynamic Schema Evolution (DSE)"}),"."]}),`
`,s.jsxs(e.p,{children:["The mathematical goal is to dynamically select a metadata schema ",s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsx(e.mrow,{children:s.jsx(e.mi,{children:"D"})}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"D"})]})})}),s.jsx(e.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.6833em"}}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"D"})]})})]})," that minimizes Retrieval Noise ",s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsx(e.mrow,{children:s.jsx(e.mi,{children:"E"})}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"E"})]})})}),s.jsx(e.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.6833em"}}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"},children:"E"})]})})]}),":"]}),`
`,s.jsx(e.span,{className:"katex-display",children:s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:s.jsxs(e.semantics,{children:[s.jsxs(e.mrow,{children:[s.jsxs(e.munder,{children:[s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"min"}),s.jsx(e.mo,{children:"â¡"})]}),s.jsx(e.mi,{children:"D"})]}),s.jsx(e.mi,{children:"Î¾"}),s.jsx(e.mo,{children:"="}),s.jsxs(e.munder,{children:[s.jsx(e.mo,{children:"âˆ‘"}),s.jsx(e.mi,{children:"q"})]}),s.jsx(e.mi,{children:"P"}),s.jsx(e.mo,{stretchy:"false",children:"("}),s.jsx(e.mtext,{children:"hallucination"}),s.jsx(e.mo,{children:"âˆ£"}),s.jsx(e.mi,{children:"q"}),s.jsx(e.mo,{separator:"true",children:","}),s.jsx(e.mi,{children:"D"}),s.jsx(e.mo,{stretchy:"false",children:")"})]}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"\\min_D \\xi = \\sum_q P(\\text{hallucination} \\mid q, D)"})]})})}),s.jsxs(e.span,{className:"katex-html","aria-hidden":"true",children:[s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"1.4388em",verticalAlign:"-0.7443em"}}),s.jsx(e.span,{className:"mop op-limits",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsxs(e.span,{className:"vlist",style:{height:"0.6679em"},children:[s.jsxs(e.span,{style:{top:"-2.3557em",marginLeft:"0em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.02778em"},children:"D"})})]}),s.jsxs(e.span,{style:{top:"-3em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3em"}}),s.jsx(e.span,{children:s.jsx(e.span,{className:"mop",children:"min"})})]})]}),s.jsx(e.span,{className:"vlist-s",children:"â€‹"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.7443em"},children:s.jsx(e.span,{})})})]})}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.04601em"},children:"Î¾"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.jsx(e.span,{className:"mrel",children:"="}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"2.4361em",verticalAlign:"-1.3861em"}}),s.jsx(e.span,{className:"mop op-limits",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsxs(e.span,{className:"vlist",style:{height:"1.05em"},children:[s.jsxs(e.span,{style:{top:"-1.9em",marginLeft:"0em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.05em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.03588em"},children:"q"})})]}),s.jsxs(e.span,{style:{top:"-3.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.05em"}}),s.jsx(e.span,{children:s.jsx(e.span,{className:"mop op-symbol large-op",children:"âˆ‘"})})]})]}),s.jsx(e.span,{className:"vlist-s",children:"â€‹"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"1.3861em"},children:s.jsx(e.span,{})})})]})}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.13889em"},children:"P"}),s.jsx(e.span,{className:"mopen",children:"("}),s.jsx(e.span,{className:"mord text",children:s.jsx(e.span,{className:"mord",children:"hallucination"})}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.jsx(e.span,{className:"mrel",children:"âˆ£"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"q"}),s.jsx(e.span,{className:"mpunct",children:","}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"D"}),s.jsx(e.span,{className:"mclose",children:")"})]})]})]})}),`
`,s.jsxs(e.p,{children:["The Autonomous DDL manager tracks the ",s.jsx(e.strong,{children:"Information Gain"})," of each metadata tag. If ",s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"o"}),s.jsx(e.mi,{children:"w"}),s.jsx(e.mi,{children:"n"}),s.jsx(e.mi,{children:"e"}),s.jsx(e.mi,{children:"r"})]}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"owner"})]})})}),s.jsx(e.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.4306em"}}),s.jsx(e.span,{className:"mord mathnormal",children:"o"}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.02691em"},children:"w"}),s.jsx(e.span,{className:"mord mathnormal",children:"n"}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"er"})]})})]}),' is always "Kent", it provides little discriminative power. If ',s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"p"}),s.jsx(e.mi,{children:"r"}),s.jsx(e.mi,{children:"o"}),s.jsx(e.mi,{children:"j"}),s.jsx(e.mi,{children:"e"}),s.jsx(e.mi,{children:"c"}),s.jsx(e.mi,{children:"t"})]}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"project"})]})})}),s.jsx(e.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.854em",verticalAlign:"-0.1944em"}}),s.jsx(e.span,{className:"mord mathnormal",children:"p"}),s.jsx(e.span,{className:"mord mathnormal",children:"ro"}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.05724em"},children:"j"}),s.jsx(e.span,{className:"mord mathnormal",children:"ec"}),s.jsx(e.span,{className:"mord mathnormal",children:"t"})]})})]})," perfectly partitions the data into tight logical buckets, it is mathematically promoted."]}),`
`,s.jsx(e.h3,{children:"Python Implementation: Autonomous Dimension Manager"}),`
`,s.jsx(e.pre,{children:s.jsx(e.code,{className:"language-python",children:`import collections

class AutonomousDDLManager:
    """Optimizes D-RAG dimensions based on Information Gain and frequency."""
    def __init__(self, threshold=0.8):
        self.optimized_dimensions = {"project", "owner"} 
        self.threshold = threshold

    def analyze_batch(self, extracted_metadata_list: list[dict]):
        total_items = len(extracted_metadata_list)
        batch_counts = collections.defaultdict(int)

        for meta in extracted_metadata_list:
            for key in meta.keys():
                batch_counts[key] += 1

        # DIMENSION PROMOTION LOGIC
        for key, count in batch_counts.items():
            frequency = count / total_items
            if frequency > self.threshold and key not in self.optimized_dimensions:
                print(f"PROMOTING DIMENSION: {key} (Freq: {frequency:.2f})")
                self.optimized_dimensions.add(key)
                # In LanceDB, adding a column is a cheap, zero-copy metadata update!
`})}),`
`,s.jsx(e.h3,{children:"Visualizing the Data Flow"}),`
`,s.jsx(y,{}),`
`,s.jsx(e.h2,{children:"Architectural Showdown: D-RAG vs. LightRAG"}),`
`,s.jsxs(e.p,{children:["It is critical to compare how this Symbolic Schema Evolution (D-RAG) performs against Semantic Graph Generation (LightRAG) during a high-stakes team event: ",s.jsx(e.strong,{children:"Memory Contamination"}),"."]}),`
`,s.jsx(e.p,{children:"What happens when an agent accidentally generates a hallucination or User A's data bleeds into User B's reasoning space? Can the system cure itself?"}),`
`,s.jsx(e.h3,{children:"1. Structure vs. Network"}),`
`,s.jsxs(e.ul,{children:[`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"LightRAG (Graph Generation)"}),': Builds a social network of ideas. It generates nodes, connections, and "Community Summaries." Indexing is incredibly expensive because an LLM must analyze every chunk to identify all latent relationships.']}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"D-RAG (Autonomous DDL)"}),": Builds a strict filing system. It only asks the LLM to identify high-value scalar tags. Indexing is an ",s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"O"}),s.jsx(e.mo,{stretchy:"false",children:"("}),s.jsx(e.mi,{children:"L"}),s.jsx(e.mi,{children:"L"}),s.jsxs(e.msub,{children:[s.jsx(e.mi,{children:"M"}),s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"t"}),s.jsx(e.mi,{children:"a"}),s.jsx(e.mi,{children:"g"}),s.jsx(e.mi,{children:"g"}),s.jsx(e.mi,{children:"i"}),s.jsx(e.mi,{children:"n"}),s.jsx(e.mi,{children:"g"})]})]}),s.jsx(e.mo,{stretchy:"false",children:")"})]}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"O(LLM_{tagging})"})]})})}),s.jsx(e.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"1.0361em",verticalAlign:"-0.2861em"}}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),s.jsx(e.span,{className:"mopen",children:"("}),s.jsx(e.span,{className:"mord mathnormal",children:"LL"}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"},children:"M"}),s.jsx(e.span,{className:"msupsub",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsx(e.span,{className:"vlist",style:{height:"0.3117em"},children:s.jsxs(e.span,{style:{top:"-2.55em",marginLeft:"-0.109em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsxs(e.span,{className:"mord mtight",children:[s.jsx(e.span,{className:"mord mathnormal mtight",children:"t"}),s.jsx(e.span,{className:"mord mathnormal mtight",children:"a"}),s.jsx(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.03588em"},children:"gg"}),s.jsx(e.span,{className:"mord mathnormal mtight",children:"in"}),s.jsx(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.03588em"},children:"g"})]})})]})}),s.jsx(e.span,{className:"vlist-s",children:"â€‹"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.2861em"},children:s.jsx(e.span,{})})})]})})]}),s.jsx(e.span,{className:"mclose",children:")"})]})})]})," operation, keeping compute costs near zero while providing 100% Deterministic precision."]}),`
`]}),`
`,s.jsx(e.h3,{children:"2. The Cost of Contamination Deletion"}),`
`,s.jsx(e.p,{children:"In multi-tenant, fast-paced environments, you must be able to delete bad data without breaking the system."}),`
`,s.jsxs(e.ul,{children:[`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"The LightRAG Contamination Cascade"}),": If a node contains contaminated logic, the contamination is ",s.jsx(e.em,{children:"Latent"}),". It bleeds into the weights of the edges connected to it and corrupts the generated Community Summaries. Deleting the bad node costs ",s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"O"}),s.jsx(e.mo,{stretchy:"false",children:"("}),s.jsx(e.mi,{children:"E"}),s.jsx(e.mo,{children:"+"}),s.jsx(e.mi,{children:"S"}),s.jsx(e.mo,{stretchy:"false",children:")"})]}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"O(E + S)"})]})})}),s.jsxs(e.span,{className:"katex-html","aria-hidden":"true",children:[s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),s.jsx(e.span,{className:"mopen",children:"("}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"},children:"E"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(e.span,{className:"mbin",children:"+"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"},children:"S"}),s.jsx(e.span,{className:"mclose",children:")"})]})]})]})," (where ",s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsx(e.mrow,{children:s.jsx(e.mi,{children:"E"})}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"E"})]})})}),s.jsx(e.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.6833em"}}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"},children:"E"})]})})]})," is affected edges, and ",s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsx(e.mrow,{children:s.jsx(e.mi,{children:"S"})}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"S"})]})})}),s.jsx(e.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.6833em"}}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"},children:"S"})]})})]}),' is the cost to rewrite the community summaries via the LLM). It requires "Surgery on a Web."']}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"The D-RAG Mathematical Isolation"}),": Contamination is ",s.jsx(e.em,{children:"Explicit"})," in the metadata dimensions. Because D-RAG uses the Deterministic Gate, memory isolation is mathematically guaranteed. To purge a contaminated idea, D-RAG simply runs: ",s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"t"}),s.jsx(e.mi,{children:"a"}),s.jsx(e.mi,{children:"b"}),s.jsx(e.mi,{children:"l"}),s.jsx(e.mi,{children:"e"}),s.jsx(e.mi,{mathvariant:"normal",children:"."}),s.jsx(e.mi,{children:"u"}),s.jsx(e.mi,{children:"p"}),s.jsx(e.mi,{children:"d"}),s.jsx(e.mi,{children:"a"}),s.jsx(e.mi,{children:"t"}),s.jsx(e.mi,{children:"e"}),s.jsx(e.mo,{stretchy:"false",children:"("}),s.jsx(e.mi,{children:"w"}),s.jsx(e.mi,{children:"h"}),s.jsx(e.mi,{children:"e"}),s.jsx(e.mi,{children:"r"}),s.jsx(e.mi,{children:"e"}),s.jsx(e.mo,{children:"="}),s.jsx(e.mi,{mathvariant:"normal",children:'"'}),s.jsx(e.mi,{children:"i"}),s.jsx(e.mi,{children:"d"}),s.jsxs(e.msup,{children:[s.jsx(e.mo,{children:"="}),s.jsx(e.mo,{mathvariant:"normal",lspace:"0em",rspace:"0em",children:"â€²"})]}),s.jsx(e.mi,{children:"b"}),s.jsx(e.mi,{children:"a"}),s.jsxs(e.msub,{children:[s.jsx(e.mi,{children:"d"}),s.jsx(e.mi,{children:"i"})]}),s.jsx(e.mi,{children:"t"}),s.jsx(e.mi,{children:"e"}),s.jsxs(e.msup,{children:[s.jsx(e.mi,{children:"m"}),s.jsx(e.mo,{mathvariant:"normal",lspace:"0em",rspace:"0em",children:"â€²"})]}),s.jsx(e.mi,{mathvariant:"normal",children:'"'}),s.jsx(e.mo,{separator:"true",children:","}),s.jsx(e.mi,{children:"v"}),s.jsx(e.mi,{children:"a"}),s.jsx(e.mi,{children:"l"}),s.jsx(e.mi,{children:"u"}),s.jsx(e.mi,{children:"e"}),s.jsx(e.mi,{children:"s"}),s.jsx(e.mo,{children:"="}),s.jsxs(e.mrow,{children:[s.jsx(e.mi,{mathvariant:"normal",children:'"'}),s.jsx(e.mi,{children:"i"}),s.jsxs(e.msub,{children:[s.jsx(e.mi,{children:"s"}),s.jsx(e.mi,{children:"v"})]}),s.jsx(e.mi,{children:"a"}),s.jsx(e.mi,{children:"l"}),s.jsx(e.mi,{children:"i"}),s.jsx(e.mi,{children:"d"}),s.jsx(e.mi,{mathvariant:"normal",children:'"'}),s.jsx(e.mo,{children:":"}),s.jsx(e.mi,{children:"F"}),s.jsx(e.mi,{children:"a"}),s.jsx(e.mi,{children:"l"}),s.jsx(e.mi,{children:"s"}),s.jsx(e.mi,{children:"e"})]}),s.jsx(e.mo,{stretchy:"false",children:")"})]}),s.jsx(e.annotation,{encoding:"application/x-tex",children:`table.update(where="id = 'bad_item'", values={"is_valid": False})`})]})})}),s.jsxs(e.span,{className:"katex-html","aria-hidden":"true",children:[s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(e.span,{className:"mord mathnormal",children:"t"}),s.jsx(e.span,{className:"mord mathnormal",children:"ab"}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.01968em"},children:"l"}),s.jsx(e.span,{className:"mord mathnormal",children:"e"}),s.jsx(e.span,{className:"mord",children:"."}),s.jsx(e.span,{className:"mord mathnormal",children:"u"}),s.jsx(e.span,{className:"mord mathnormal",children:"p"}),s.jsx(e.span,{className:"mord mathnormal",children:"d"}),s.jsx(e.span,{className:"mord mathnormal",children:"a"}),s.jsx(e.span,{className:"mord mathnormal",children:"t"}),s.jsx(e.span,{className:"mord mathnormal",children:"e"}),s.jsx(e.span,{className:"mopen",children:"("}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.02691em"},children:"w"}),s.jsx(e.span,{className:"mord mathnormal",children:"h"}),s.jsx(e.span,{className:"mord mathnormal",children:"ere"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.jsx(e.span,{className:"mrel",children:"="}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.7519em"}}),s.jsx(e.span,{className:"mord",children:'"'}),s.jsx(e.span,{className:"mord mathnormal",children:"i"}),s.jsx(e.span,{className:"mord mathnormal",children:"d"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.jsxs(e.span,{className:"mrel",children:[s.jsx(e.span,{className:"mrel",children:"="}),s.jsx(e.span,{className:"msupsub",children:s.jsx(e.span,{className:"vlist-t",children:s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.7519em"},children:s.jsxs(e.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mtight",children:s.jsx(e.span,{className:"mord mtight",children:"â€²"})})})]})})})})})]}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.9463em",verticalAlign:"-0.1944em"}}),s.jsx(e.span,{className:"mord mathnormal",children:"ba"}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord mathnormal",children:"d"}),s.jsx(e.span,{className:"msupsub",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsx(e.span,{className:"vlist",style:{height:"0.3117em"},children:s.jsxs(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),s.jsx(e.span,{className:"vlist-s",children:"â€‹"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.15em"},children:s.jsx(e.span,{})})})]})})]}),s.jsx(e.span,{className:"mord mathnormal",children:"t"}),s.jsx(e.span,{className:"mord mathnormal",children:"e"}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord mathnormal",children:"m"}),s.jsx(e.span,{className:"msupsub",children:s.jsx(e.span,{className:"vlist-t",children:s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.7519em"},children:s.jsxs(e.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mtight",children:s.jsx(e.span,{className:"mord mtight",children:"â€²"})})})]})})})})})]}),s.jsx(e.span,{className:"mord",children:'"'}),s.jsx(e.span,{className:"mpunct",children:","}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"v"}),s.jsx(e.span,{className:"mord mathnormal",children:"a"}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.01968em"},children:"l"}),s.jsx(e.span,{className:"mord mathnormal",children:"u"}),s.jsx(e.span,{className:"mord mathnormal",children:"es"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.jsx(e.span,{className:"mrel",children:"="}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord",children:'"'}),s.jsx(e.span,{className:"mord mathnormal",children:"i"}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord mathnormal",children:"s"}),s.jsx(e.span,{className:"msupsub",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsx(e.span,{className:"vlist",style:{height:"0.1514em"},children:s.jsxs(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.03588em"},children:"v"})})]})}),s.jsx(e.span,{className:"vlist-s",children:"â€‹"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.15em"},children:s.jsx(e.span,{})})})]})})]}),s.jsx(e.span,{className:"mord mathnormal",children:"a"}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.01968em"},children:"l"}),s.jsx(e.span,{className:"mord mathnormal",children:"i"}),s.jsx(e.span,{className:"mord mathnormal",children:"d"}),s.jsx(e.span,{className:"mord",children:'"'}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.jsx(e.span,{className:"mrel",children:":"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.13889em"},children:"F"}),s.jsx(e.span,{className:"mord mathnormal",children:"a"}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.01968em"},children:"l"}),s.jsx(e.span,{className:"mord mathnormal",children:"se"})]}),s.jsx(e.span,{className:"mclose",children:")"})]})]})]}),". The cost to remove is exactly ",s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"O"}),s.jsx(e.mo,{stretchy:"false",children:"("}),s.jsx(e.mn,{children:"1"}),s.jsx(e.mo,{stretchy:"false",children:")"})]}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"O(1)"})]})})}),s.jsx(e.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),s.jsx(e.span,{className:"mopen",children:"("}),s.jsx(e.span,{className:"mord",children:"1"}),s.jsx(e.span,{className:"mclose",children:")"})]})})]}),"."]}),`
`]}),`
`,s.jsx(e.h2,{children:"Conclusion: Symbolic Rigor Over Fuzzy Connections"}),`
`,s.jsx(e.p,{children:'While Graph-based systems like LightRAG are excellent for creative, exploratory tasks ("summarize the overarching themes of all our projects"), they lack the deterministic rigor required for enterprise execution.'}),`
`,s.jsxs(e.p,{children:["D-RAG's Autonomous DDL Optimization proves that we don't always need an LLM to build a massive web of probabilistic connections. By letting an LLM simply optimize a strict, symbolical metadata schema, we guarantee 100% precision, eliminate manifold confusion, and preserve the ",s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"O"}),s.jsx(e.mo,{stretchy:"false",children:"("}),s.jsx(e.mn,{children:"1"}),s.jsx(e.mo,{stretchy:"false",children:")"})]}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"O(1)"})]})})}),s.jsx(e.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),s.jsx(e.span,{className:"mopen",children:"("}),s.jsx(e.span,{className:"mord",children:"1"}),s.jsx(e.span,{className:"mclose",children:")"})]})})]})," deletion times critical to maintaining an enterprise AI agent's long-term sanity."]})]})}function f(l={}){const{wrapper:e}=l.components||{};return e?s.jsx(e,{...l,children:s.jsx(x,{...l})}):x(l)}export{f as default,v as frontmatter};
